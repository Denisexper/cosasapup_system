@model system_cosasapup.Models.pagos

@{
    ViewData["Title"] = "Registrar Pago";
}

<div class="container mx-auto p-6 md:p-8 bg-white rounded-lg shadow-xl max-w-xl mt-10">
    <h2 class="text-3xl font-extrabold text-gray-800 mb-4 text-center">@ViewData["Title"]</h2>

    @if (Model.Pegue != null)
    {
        <h3 class="text-xl font-semibold text-gray-700 mb-6 text-center">
            Para el pegue de <span class="text-indigo-600">@Model.Pegue.dueño</span> en <span class="text-indigo-600">@Model.Pegue.comunidad</span>
        </h3>
    }
    else
    {
        <div class="bg-red-100 border border-red-400 text-red-700 px-4 py-3 rounded-lg relative mb-6" role="alert">
            <strong class="font-bold">¡Error!</strong>
            <span class="block sm:inline">No se encontró el pegue asociado. Por favor, intente de nuevo desde la lista de pegues.</span>
        </div>
    }

    <form asp-action="CrearPago" method="post" class="space-y-5">
        <input type="hidden" asp-for="PegueId" />
        @Html.AntiForgeryToken() @* Importante para la seguridad CSRF *@

        <div class="mb-4">
            <label asp-for="monto" class="block text-gray-700 text-sm font-semibold mb-2">Monto:</label>
            <input type="number" class="shadow-sm appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200" asp-for="monto" step="0.01" />
            <span asp-validation-for="monto" class="text-red-600 text-xs mt-1 block"></span>
        </div>

        <div class="mb-4">
            <label asp-for="fechaPago" class="block text-gray-700 text-sm font-semibold mb-2">Fecha de Pago:</label>
            <input type="date" class="shadow-sm appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200" asp-for="fechaPago" />
            <span asp-validation-for="fechaPago" class="text-red-600 text-xs mt-1 block"></span>
        </div>

        <div class="mb-4">
            <label asp-for="metodoPago" class="block text-gray-700 text-sm font-semibold mb-2">Método de Pago:</label>
            <select class="shadow-sm appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200" asp-for="metodoPago">
                <option value="">-- Selecciona el método de pago --</option>
                <option value="Efectivo">Efectivo</option>
                <option value="Tarjeta">Tarjeta</option>
                <option value="Transferencia">Transferencia</option>
            </select>
            <span asp-validation-for="metodoPago" class="text-red-600 text-xs mt-1 block"></span>
        </div>

        <div class="mb-6">
            @* Aumentado mb para más espacio antes de los botones *@
            <label asp-for="observaciones" class="block text-gray-700 text-sm font-semibold mb-2">Observaciones:</label>
            <textarea class="shadow-sm appearance-none border rounded-lg w-full py-2 px-3 text-gray-700 leading-tight focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:border-transparent transition duration-200" asp-for="observaciones" rows="3"></textarea>
            <span asp-validation-for="observaciones" class="text-red-600 text-xs mt-1 block"></span>
        </div>

        <div class="flex flex-col sm:flex-row justify-center gap-4 mt-6">
            @* Flexbox para alinear botones, con responsive *@
            <button type="submit" class="bg-indigo-600 hover:bg-indigo-700 text-white font-bold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-indigo-300 transition duration-300 ease-in-out transform hover:scale-105 active:scale-95">
                Registrar Pago
            </button>
            <a asp-action="ListaPegues" class="bg-gray-300 hover:bg-gray-400 text-gray-800 font-bold py-2.5 px-6 rounded-lg shadow-md hover:shadow-lg focus:outline-none focus:ring-4 focus:ring-gray-300 transition duration-300 ease-in-out transform hover:scale-105 active:scale-95 text-center flex items-center justify-center">
                Cancelar
            </a>
        </div>
    </form>
</div>

@section Scripts {
    @{
        await Html.RenderPartialAsync("_ValidationScriptsPartial");
    }
}
 